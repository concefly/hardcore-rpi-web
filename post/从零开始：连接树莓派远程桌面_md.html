<h1>Test</h1>

<h1>从零开始：连接树莓派远程桌面</h1>

<article>
  <p>树莓派是信用卡大小的卡片电脑，自带 HDMI 接口、网线接口、USB 接口和 WiFi。</p>
<p>玩转树莓派的时候，官方建议要配齐 USB 鼠标键盘和 HDMI 显示器，才能尽情享受 Raspbian 图形桌面系统。但是，没有这三件套就不能玩转树莓派了吗？</p>
<p>答案是否定的。我就来教大家，怎么仅用一台电脑，从零开始连接树莓派远程桌面，<strong>利用电脑的鼠标键盘显示器来玩转树莓派桌面</strong>。</p>
<p>先上一张树莓派远程桌面连接成功图。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1846637-d0628f66630b4e4d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h1 id="什么是-vnc-远程桌面">什么是 VNC 远程桌面</h1>
<p>根据官方介绍，vnc 是一种远程控制软件，它允许使用 internet 上任何位置的另一台计算机桌面上的简单程序 (vnc viewer) 查看一台计算机桌面 (vnc service) 并与之完全交互。这两台计算机甚至不一定是相同的类型，就像是本文的例子，我可以用 Mac 笔记本控制树莓派的桌面。</p>
<blockquote>
<p>VNC® Connect is screen sharing software that lets you connect to a remote computer anywhere in the world, watch its screen in real-time, and take control as though sitting in front of it.</p>
<p><a href="https://www.realvnc.com/en/connect/">https://www.realvnc.com/en/connect/</a></p>
</blockquote>
<h1 id="设置-vnc-服务器自启动">设置 VNC 服务器自启动</h1>
<p>树莓派 Raspbian 桌面系统已经自带了 VNC 服务器，但默认是关闭的。我们要做的只是把它打开。</p>
<p>首先 ssh 连接登录树莓派，启动自带的配置程序：</p>
<pre><code>$ sudo raspi-config</code></pre><p><img src="https://upload-images.jianshu.io/upload_images/1846637-e3928931096b7ae3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/1846637-385ff2e48c295d9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h1 id="安装-vnc-viewer">安装 VNC Viewer</h1>
<p>单启动树莓派 VNC 服务器还不够，还要在电脑上安装 VNC Viewer 客户端，才能连接树莓派远程桌面。</p>
<p>进入官网下载客户端：<a href="https://www.realvnc.com/en/connect/download/viewer/">https://www.realvnc.com/en/connect/download/viewer/</a></p>
<p>要注意的是，我们现在安装的是 VNC Viewer 客户端，是装在电脑上的，所以选下面截图红框部分的版本就行，不要选到树莓派版本。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1846637-caa8bb8157469f2c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h1 id="连接远程桌面">连接远程桌面</h1>
<p>上述操作都完成后，可以开始连接远程桌面了。</p>
<p>首先，启动树莓派，ssh 登录，执行 <code>ifconfig</code> 查看树莓派当前的 ip 地址。</p>
<blockquote>
<p>我的树莓派已经配置好了 WiFi 连接，所以 ip 地址是在 wlan0 端口。如果是用网线连接的树莓派，ip 地址会显示在 eth0 端口。</p>
</blockquote>
<p><img src="https://upload-images.jianshu.io/upload_images/1846637-55deed3202e12ba2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>然后，在电脑上启动 VNC Viewer，点击左上角的“新建连接”菜单，填入树莓派的 ip 地址，点击“确定”。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1846637-d547b71b8f07472e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>接着，双击刚刚创建出来的连接，VNC Viewer 会弹窗让你输入树莓派的用户名和密码。输入后点确定。</p>
<blockquote>
<p>树莓派默认登录名和密码是：pi, raspberry</p>
</blockquote>
<p><img src="https://upload-images.jianshu.io/upload_images/1846637-41d0cdc5eefc6f6f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>一切顺利的话，到这里就能看到树莓派的远程桌面了！电脑上的鼠标、键盘操作都会一一映射到树莓派上，就像树莓派连接了真实的鼠标、键盘和显示器一样。除了画面会有轻微的延时之外，体感和真实显示器基本没有差别。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1846637-056cf720a687490e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>ssh 纯命令行固然有极大的 DIY 自由度，但树莓派还是有很多应用离不开显示器，比如树莓派驱动摄像头、PyGame 等。命令行和桌面相结合，便能轻松玩转树莓派。</p>
<h1 id="故障排除">故障排除</h1>
<p><strong>vnc viewer 黑屏，显示 cannot currently show the desktop。</strong>
一般是树莓派视频输出分辨率不够导致的，将分辨率调大即可。参考<a href="https://zhuanlan.zhihu.com/p/98080324">教你如何给树莓派调节显示屏分辨率</a></p>
<h1 id="参考资料">参考资料</h1>
<ul>
<li><a href="https://www.jianshu.com/p/e4c21b87920a">树莓派 4B 安装和启动</a></li>
</ul>

</article>